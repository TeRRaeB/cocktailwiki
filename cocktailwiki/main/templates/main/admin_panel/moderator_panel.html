{% extends 'main/layout.html' %}

{% block content %}
<h2>Moderator Panel</h2>

<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Image</th>
            <th>Content</th>
            <th>Author</th>

            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for post in posts %}
        <tr>
            <td>{{ post.title }}</td>
            <td><img src="{{ post.image.url }}" width="80"></td>
            <td>{{ post.content }}</td>
            <td>{{ post.author }}</td>
            <td>{{ post.get_status_display }}</td>
            <td>
                <a class="btn btn-secondary" href="{% url 'change_status' post.id 0 %}">Draft</a>
                <a class="btn btn-success" href="{% url 'change_status' post.id 1 %}">Under Review</a>
                <a class="btn btn-danger" href="{% url 'change_status' post.id 2 %}">Published</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
